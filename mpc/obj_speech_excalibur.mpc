/*
 * $Id: obj_speech_excalibur.mpc,v 1.1 2001-09-14 16:48:16 fjoe Exp $
 */

char victim = char_fighting($n);
 
if (victim != NULL
&&  ((get_eq_char($n, WEAR_WIELD) == $p) ||
      get_eq_char($n, WEAR_SECOND_WIELD) == $p)) {
        act("Acid sprays from $p!", $n, $p, NULL, TO_ALL);
        spellfun_call("acid blast", NULL, char_level($n), $n, victim);
        wait_state($n, 2 * get_pulse("violence"));
}
return 0;
